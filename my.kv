WindowManager:
    PaginaInicio:
    PaginaAlta:
    PaginaBaja:

<PaginaInicio>:
    name: "inicio"
    caja_lista: caja_lista

    GridLayout:
        cols: 1

        Label:
            size_hint: None, None
            size: root.width, root.height * 0.10
            text: "Busque su producto"

        TextInput:
            size_hint: None, None
            size: root.width, self.minimum_height if root.height * 0.10 < self.minimum_height else root.height * 0.10
            multiline: False
            on_text: root.ver_productos(self.text)
            hint_text: "Ingrese nombre..."
            cursor_color: [0,0,0,1]

        ScrollView:
            GridLayout:
                id: caja_lista
                cols: 1
                size_hint_y: None
                spacing: 10
                height: self.minimum_height

        Button:
            size: root.width, root.height * 0.10
            size_hint: None, None
            text: "Alta de producto"
            on_release:
                root.manager.transition.direction = "left"
                app.root.current = "alta"

        Button:
            size: root.width, root.height * 0.10
            size_hint: None, None
            text: "Borrar producto"
            on_release:
                root.manager.transition.direction = "left"
                app.root.current = "baja"

<PaginaAlta>:
    name: "alta"
    nombre: nombre
    descripcion: descripcion
    categoria: categoria
    precio: precio
    stock: stock

    BoxLayout:
        orientation: "vertical"



        BoxLayout:
            orientation: "vertical"
            size: root.width, root.height * 0.10
            size_hint: None, None
            Label:
                text: "Mi tienda - Alta de producto"

        BoxLayout:
            orientation: "vertical"
            size_hint: 1, 0.8
            Label
                text: "  Nombre del producto"
                text_size: self.size
                halign: 'left'
            TextInput
                id: nombre
                multiline: False

            Label
                text: "  Descripción"
                text_size: self.size
                halign: 'left'
            TextInput
                id: descripcion
                multiline: True

            Label
                text: "  Categoría"
                text_size: self.size
                halign: 'left'
            TextInput
                id: categoria
                multiline: False

            Label
                text: "  Precio"
                text_size: self.size
                halign: 'left'
            TextInput
                id: precio
                input_type: "number"
                input_filter: "float"
                multiline: False

            Label
                text: "  Stock"
                text_size: self.size
                halign: 'left'
            TextInput
                id: stock
                input_type: "number"
                input_filter: "int"
                multiline: False

        BoxLayout:
            orientation: "horizontal"
            size: root.width, root.height * 0.10
            size_hint: None, None

            Button
                text: "Dar de alta"
                on_release: root.alta()
            Button:
                text: "Volver"
                on_release:
                    app.root.current = "inicio"
                    root.manager.transition.direction = "right"

<PaginaBaja>:
    name: "baja"
    caja_lista: caja_lista_borrar

    BoxLayout:
        orientation: "vertical"

        BoxLayout:
            orientation: "vertical"
            size: root.width, root.height * 0.10
            size_hint: None, None
            Label:
                text: "Mi tienda - Borrar producto"

        GridLayout:
            cols: 1
            Label:
                size_hint: None, None
                size: root.width, root.height * 0.10
                text: "Seleccione un producto"

            TextInput:
                size_hint: None, None
                size: root.width, self.minimum_height if root.height * 0.10 < self.minimum_height else root.height * 0.10
                multiline: False
                on_text: root.listar_borrado_productos(self.text)
                hint_text: "Filtrar por nombre"
                cursor_color: [0,0,0,1]

            ScrollView:
                GridLayout:
                    id: caja_lista_borrar
                    cols: 1
                    size_hint_y: None
                    spacing: 10
                    height: self.minimum_height

        BoxLayout:
            orientation: "horizontal"
            size: root.width, root.height * 0.10
            size_hint: None, None

            Button:
                text: "Volver"
                on_release:
                    app.root.current = "inicio"
                    root.manager.transition.direction = "right"
